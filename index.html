<html>
    <head>
        <link rel="stylesheet" href="animate.css" type="text/css">
        <style>
            @font-face {
              font-family: 'Ultra';
              src: url('media/Ultra-Regular.ttf')  format('truetype')
            }

            body {
                background-color: #e93e37;
                color: white;
                font-family: 'Ultra', sans-serif;
                font-size: 3em;
                overflow: hidden;
                padding: 0 50px;
            }

            .stage {
                opacity: 0;
            }

            .stage > div, .canvas > div {
                padding: 50px 50px;
            }

            .canvas{
                text-align: center;
                position: absolute;
                bottom: 1px;
                width: 100%;
                left: 0;
                right: 0;
            }

            .hide {
                transition: opacity 2s ease-in-out;
                opacity: 0;
            }

        </style>
    </head>
    <body>
        <div class="canvas">

        </div>

        <div class="stage">
            <div class="start"><br><br><br><br><br><br><br><br><br><br><br><br></div>
            <div class="unicorn"><img src="/media/unicorn.png" /></div>
            <div class="hello">We are Digitas Lbi, and this is our story</div>
            <div class="name">Once up a time</div>
            <div class="name3"> ... and then ... </div>
            <div class="name4">also</div>
            <div class="name5">The thing is</div>
            <div class="name6">You know</div>
        </div>

        <script src="jquery-2.2.4.min.js"></script>
        <script src="kiosk.js"></script>
        <script>
            $(document).ready(function(){
                var canvas = $('.canvas');
                canvas.css('top', $('body')[0].clientHeight );


                animateIn(
                    ['in', '.start', 'fadeIn', 1000],
                    ['in', '.unicorn', 'flipInX', 2000],
                    ['in', '.hello', 'fadeIn', 2000],
                    ['in','.name', 'fadeIn', 2000],
                    ['in','.name3', 'fadeIn', 2000],
                    ['in','.name4', 'fadeIn', 2000],
                    ['in','.name5', 'fadeIn', 2000],
                    ['in','.name6', 'fadeIn', 2000]
                );

                function animateIn(){
                    var position = 0,
                        args = arguments;

                    function processNext(){
                        if (!args.length || position >= args.length)
                            return;

                        var arg = args[position];
                        position ++;

                        var direction = arg[0],
                            selector = arg[1],
                            effect = arg[2],
                            delay = arg[3];

                        animateItem(direction, selector, effect, delay);
                    }



                    function animateItem(direction, selector, effect, delay){
                        var element = $(selector);

                        if (direction === 'in'){
                            var height = element[0].clientHeight;
                            canvas.animate({ top : '-=' + height }, function () {
                                then();
                            });
                        } else{
                            element.addClass('hide');
                            processNext();
                        }

                        function then(remove){
                            element.detach();
                            element.addClass('animated ' + effect);
                            canvas.append(element);

                            if (delay === undefined){
                                element.removeClass('animated ' + effect);
                                processNext();
                            } else {
                                setTimeout(function(){
                                    element.removeClass('animated ' + effect);
                                    processNext();
                                }, delay);
                            }
                        }

                    }

                    processNext();
                }


            });
        </script>
    </body>
</html>
